#!/bin/bash

read -rp "Create SSL for domain: " domain
read -rp "Run certbot for ${domain} [Y/N]: " ok

if [ "${ok^}" = "Y" ] && [ -n "${domain}" ]; then

  # wild card sub domain cert
  sudo certbot certonly \
    --dns-linode \
    --dns-linode-credentials "${HOME}"/.config/certbot/linode.ini \
    --dns-linode-propagation-seconds 120 \
    -d "${domain}" \
    -d "*.${domain}"

fi

# standard cert request
# sudo certbot certonly \
#     --dns-linode \
#     --dns-linode-credentials "${HOME}"/.config/certbot/linode.ini \
#     --dns-linode-propagation-seconds 120 \
#     -d "${domain}" \
#     -d "www.${domain}" \
